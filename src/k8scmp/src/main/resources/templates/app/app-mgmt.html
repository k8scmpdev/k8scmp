<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
	<head th:include="/public/commonframe :: cssScript" />
	<body>
		<div id="common-header">
			<div th:include="/public/commonframe :: app-header"></div>
		</div>
		<div id="content">
			<div id="content-header">
				<h2>应用管理</h2>
			</div>
			<div id="breadcrumb">
				<a href="#" class="current tip-bottom" title="应用管理">应用管理</a>
			</div>
			<div class="container-fluid">
				<div class="row-fluid">
					<div class="span12">
						<div class="buttons">
							<a title="创建应用" class="btn tip-bottom" href="/app/app-new"><i class="icon-plus"></i>创建应用</a>
						</div>
						<div class="widget-box">
							<div class="widget-title">
								<h5>应用列表</h5>
							</div>
							<div class="widget-content nopadding">
								<table class="table table-bordered data-table display" style="width:100%">
									<thead>
										<tr>
											<th class="t10">应用名称</th>
											<th class="t20">状态</th>
											<th class="t30">逻辑集群</th>
											<th class="t40">物理集群</th>
											<th class="t50">创建时间</th>
											<th class="t60">应用描述</th>
											<th class="t70">操作</th>
										</tr>
									</thead>
									<tbody id="tBody">
									    <tr th:each="app,itState:${appList}">
									        <td class="t10">
									        	<a title='单击查看服务列表' id="appCode" th:href="@{'/app/service/'+${app.id}+'?1=1'(appId=${app.id},hostLabel=${app.hostLabel},namespace=${app.namespace})}" th:text="${app.appCode}" style="white-space:nowrap;"></a>
									        </td>
									        <td class="t20" th:text="${app.state}"></td>
									        <td class="t30" th:text="${app.hostLabel}"></td>
									        <td class="t40" th:text="${app.clusterId}"></td>
									        <td class="t50" th:text="${app.createTime}"></td>
									        <td class="t60" th:text="${app.description}"></td>
									        <td class="operation t70">
									        	<a class="iconOperation" 
									        	th:href="@{/app/app-new(appCode=${app.appCode},hostLabel=${app.hostLabel},
									        	namespace=${app.namespace},description=${app.description},edit=true,
									        	clusterId=${app.clusterId})}"><i class="icon-edit"></i><span>编辑</span></a>
									        	<a class="iconOperation" href="javascript:void(0);" th:onclick="'deleteApp('+'\''+${app.id}+'\''+');'"><i class="icon-trash"></i><span>删除</span></a>
									        </td>
									    </tr>
									</tbody>
								</table>
							</div>
						</div>				
					</div>
					</div>				
					</div>
				</div>
				<div id="common-footer">
					<div th:include="/public/commonframe::app-footer"></div>
				</div>
	
	</body>
	<div th:include="/public/commonframe::jsScript(activeMenuNumber=3)" ></div>
	<script th:src="@{/js/app/app-mgmt.js}"></script>
</html>
