<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
	<head>
		<title>Unicorn Admin</title>
		<meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" />
		<link rel="stylesheet" th:href="@{/css/bootstrap-responsive.min.css}" />
		<link rel="stylesheet" th:href="@{/css/uniform.css}" />
		<link rel="stylesheet" th:href="@{/css/select2.css}" />		
		<link rel="stylesheet" th:href="@{/css/unicorn.grey.css}" class="skin-color" />
		<link rel="stylesheet" th:href="@{/css/unicorn.main.css}" />
		<link rel="stylesheet" th:href="@{/css/k8scmp.css}" />
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	</head>
	<body>
		<div id="common-header">
		</div>
		<div id="content">
			<div id="content-header">
				<h2>添加服务</h2>
			</div>
			<div id="breadcrumb">
				<a href="/app" class="tip-bottom" title="应用管理">应用管理</a>
				<a href="/app/service-mgmt" class="tip-bottom" title="应用管理">服务管理</a>
				<a href="#" class="current" title="新建应用">添加服务</a>
			</div>
			<div class="container-fluid">
				<div class="row-fluid">
					<div class="span12">
						<div class="widget-box">
							<div class="widget-title">
								<span class="icon">
									<i class="icon-th-list"></i>
								</span>
								<h5>添加服务</h5>
							</div>
							
							<form action="/app/app-new" method="get" class="form-horizontal">
								<div class="widget-content" id="service-new1">
									<div class="control-group">
                                        <label class="control-label">服务名称</label>
                                        <div class="controls">
                                            <input class="normaltext" type="text" placeholder="输入服务名称（字母数字）..." style="font-style: italic;font-size: 13px"/>
                                        </div>
	                                </div>
									<div class="control-group">
                                        <label class="control-label">服务描述</label>
                                        <div class="controls">
                                            <textarea rows="3" cols="5"></textarea>
                                        </div>
	                                </div>
									<div class="control-group">
                                        <label class="control-label">配置方式</label>
                                        <div class="controls">
											<input type="radio" name="radios" />界面配置&nbsp;&nbsp;&nbsp;
											<input type="radio" name="radios" />YAML
										</div>
	                                </div>
	                                <div class="control-group">
	                                	<label class="control-label">实例个数</label>
	                                	<div class="controls">
											<input type="text" class="normaltext"/>
											<span class="help-block" style="font-size:13px">实例在集群中启动的副本数</span>
										</div>
	                                </div>
	                                <div class="control-group">
	                                	<label class="control-label">端口映射</label>
	                                	<div class="controls">
	                               			<input type="text" class="combine tip-top" title="端口"/>
											<select class="combine">
												<option>TCP</option>
												<option>HTTP</option>
												
											</select>
											<select class="combine">
												<option>动态生成</option>
												<option>指定端口</option>
											</select>
											<select class="combine">
												<option >保存</option>
												<option >取消</option>
											</select>
                                		</div>
	                                </div>
	                            
									 <div class="form-actions" style="text-align: left;padding-left: 40%">
										<button id="cancleService" class="btn btn-primary" type="button">取消</button>&nbsp;&nbsp;&nbsp;
										<button id="btnnew1next" class="btn btn-primary" type="button">下一步</button>
									</div>
								</div>
								
								<div class="widget-content" id="service-new2">
									<div class="control-group">
                                        <label class="control-label-left">选择镜像</label>
                                        <div class="controls-left">
                                            <input type="text" placeholder="输入服务名称（字母数字）..." style="font-style: italic;font-size: 13px;width: 87%"/>
                                            <a href="#myModal" data-toggle="modal" class="btn btn-primary">添加</a>
                                            <a title="点击添加按钮，在弹出的页面中，输入
												镜像名称进行查询，被选中的镜像会显示在
												镜像列表里，单击每个镜像进行配置。" class="tip-top">
												<i class="icon-question-sign"></i>
											</a>
                                        </div>
	                                </div>
									<div class="control-group">
                                        <label class="control-label-left">镜像仓库</label>
                                        <div class="controls-left">
                                        	 <span class="label">http://123.com</span>
                                        </div>
	                                </div>
	                                <div class="control-group">
	                                <div class="row-fluid">
									<div class="span12">
										<div class="widget-box">
											<div class="widget-title">
												<h5>镜像列表</h5>
											</div>
											<div class="widget-content nopadding">
												<table class="table table-bordered data-table with-check">
													<thead>
														<tr>
															<th><input type="checkbox" id="title-table-checkbox" name="title-table-checkbox" /></th>
															<th>镜像名称</th>
															<th>镜像仓库</th>
															<th>版本</th>
															<th>配置</th>
														</tr>
													</thead>
													<tbody id="tBody">
													    <tr th:each="app,itState:${imageList}">
													    	<td><input type="checkbox" id="title-table-checkbox" name="title-table-checkbox" /></td>
													        <td><a title='单击查看服务列表' th:href="@{/app/service-mgmt(appId=${app.appId},logicClusterId=${app.logicClusterId},namespace=${app.namespace})}" th:text="${app.appId}" class="tip-top"></a></td>
													        <td th:text="${app.state}"></td>
													        <td th:text="${app.logicClusterId}"></td>
													        <td th:text="${app.clusterId}"></td>
													       <!-- <td><i class="icon-list-alt tip-top" title="点击查看地址"></i></td> --> 
													        <td th:text="${app.createTime}"></td>
													        <td th:text="${app.description}"></td>
													    </tr>
													</tbody>
												</table>							
											</div>
										</div>				
									</div>
									</div>
	                                </div>
									<div class="form-actions" style="text-align: left;padding-left: 35%">
										<button id="cancleService" class="btn btn-primary" type="button">取消</button>&nbsp;&nbsp;&nbsp;
										<button id="btnnew2pre" class="btn btn-primary" type="button">上一步</button>&nbsp;&nbsp;&nbsp;
										<button id="btnnew2next" class="btn btn-primary" type="button">下一步</button>
									</div>
								</div>
							
								<div class="widget-content" id="service-new3">
									<div class="control-group">
	                                       <label class="control-label">挂载存储</label>
	                                       <div class="controls">
	                                           <a title="添加挂载存储" class="btn tip-bottom" href="javascript:void(0);" onclick="showStorage();"><i class="icon-plus"></i></a>
	                                       		<br/>
	                                       		<br/>
	                                       		<div id="storages">
	                                       			
	                                       		</div>
	                                       </div>
	                                </div>
	                                
									<div class="control-group">
	                                       <label class="control-label">启动命令</label>
	                                       <div class="controls">
	                                           <input type="text" class="normaltext"/>
	                                       </div>
	                                </div>
									<div class="control-group">
	                                    <label class="control-label">环境变量</label>
	                                    <div class="controls">
											<input type="text" class="normaltext" placeholder="环境变量以键值对key=value形式保存，以逗号,分割" style="font-style: italic;font-size: 13px"/>
										</div>
	                                </div>
	                                <div class="control-group">
	                                	<label class="control-label">容器大小</label>
	                                	<div class="controls">
	                                	 	<span>CPU(个)</span><input type="text" class="combine tip-top"/>&nbsp;&nbsp;&nbsp;
											<span>内存(MB)</span><input type="text" class="combine tip-top"/>
										</div>
	                                </div>
	                                <div class="control-group">
	                                	<label class="control-label">端口映射</label>
	                                	<div class="controls">
	                               			<input type="text" class="combine tip-top" title="端口"/>
											<select class="combine">
												<option>TCP</option>
												<option>HTTP</option>
												
											</select>
											<select class="combine">
												<option>动态生成</option>
												<option>指定端口</option>
											</select>
											<select class="combine">
												<option >保存</option>
												<option >取消</option>
											</select>
	                               		</div>
	                                </div>
								 <div class="form-actions" style="text-align: left;padding-left: 40%">
									<button id="cancleService" class="btn btn-primary" type="button">取消</button>&nbsp;&nbsp;&nbsp;
									<button id="btnnew3pre" class="btn btn-primary" type="button">上一步</button>&nbsp;&nbsp;&nbsp;
									<button id="btnnew3next" class="btn btn-primary" type="button">下一步</button>
								</div>
							</div>
							
							<div class="widget-content" id="service-new4">
									<div class="control-group">
                                    	<label class="control-label-YAML">YAML配置示例</label>
	                                </div>
									<div class="control-group">
	                                    <div>
	                                    	<ul style="list-style:none;">
	                                    		<li>containers:</li>
	                                    		<li>- image: "pub.test/registry:2.3</li>
	                                    		<li> name: "test-container"</li>
	                                    		<li> volumeMounts:</li>
	                                    		<li> - mountPath: "/test-hostpath"</li>
	                                    		<li>  name: "test-volume"</li>
	                                    		<li>volumes:</li>
	                                    		<li>- hostPath:</li>
	                                    		<li> path: "/opt/scs"</li>
	                                    		<li> name: "test-volume"</li>
	                                    	</ul>
	                                    </div>
	                                </div>
									<div class="textarea-left">
										<textarea class="wholewidth" rows="5"></textarea>
	                                </div>
								 <div class="form-actions" style="text-align: left;padding-left: 40%">
									<button id="cancleService" class="btn btn-primary" type="button">取消</button>&nbsp;&nbsp;&nbsp;
									<button id="btnnew4pre" class="btn btn-primary" type="button">上一步</button>&nbsp;&nbsp;&nbsp;
									<button id="btnnew4pre" class="btn btn-primary" type="button">提交</button>
								</div>
							</div>
						</form>
						
						<div id="myModal" class="modal hide">
							<div class="modal-header">
								<button data-dismiss="modal" class="close" type="button">×</button>
								<h3>选择镜像</h3>
							</div>
							<div class="modal-body">
	                            <div class="form-horizontal">
	                            <div class="control-group">
	                                 <label class="control-label-left">镜像仓库</label>
	                                 <div class="controls">
	                                 	 <span style="padding-bottom: 1%;padding-left: 5%">http://123.com</span>
	                                 </div>
	                            </div> 
	                            <div class="control-group">
	                                <div class="row-fluid">
									<div class="span12">
										<div class="widget-box">
											<div class="widget-title">
												<h5>镜像列表</h5>
											</div>
											<div class="widget-content nopadding">
												<table class="table table-bordered data-table with-check">
													<thead>
														<tr>
															<th><input type="checkbox" id="title-table-checkbox" name="title-table-checkbox" /></th>
															<th>选择</th>
															<th>镜像名称</th>
															<th>版本</th>
														</tr>
													</thead>
													<tbody id="tBody">
													    <tr th:each="app,itState:${imageList}">
													    	<td><input type="checkbox" id="title-table-checkbox" name="title-table-checkbox" /></td>
													        <td><a title='单击查看服务列表' th:href="@{/app/service-mgmt(appId=${app.appId},logicClusterId=${app.logicClusterId},namespace=${app.namespace})}" th:text="${app.appId}" class="tip-top"></a></td>
													        <td th:text="${app.createTime}"></td>
													        <td th:text="${app.description}"></td>
													    </tr>
													</tbody>
												</table>							
											</div>
										</div>				
									</div>
									</div>
	                                </div>
	                            
	                            </div>
                                
	                                <div class="form-actions" style="text-align: left;padding-left: 35%">
										<button id="cancleService" class="btn btn-primary" type="button">取消</button>&nbsp;&nbsp;&nbsp;
										<button id="btnnew2pre" class="btn btn-primary" type="button">确定</button>&nbsp;&nbsp;&nbsp;
									</div>
                                
							</div>
						</div>
						</div>
					</div>
				</div>

				<div id="common-footer">
				</div>
			</div>
		</div> 
	</body>
	<script th:src="@{/js/jquery.min.js}"></script>
    <script th:src="@{/js/jquery.ui.custom.js}"></script>
    <script th:src="@{/js/bootstrap.min.js}"></script>
    <script th:src="@{/js/unicorn.js}"></script>
    <script th:src="@{/js/commonDisplay.js}"></script>
</html>
